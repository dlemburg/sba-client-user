<!--
<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Create Mobile Card</ion-title>
  </ion-navbar>
</ion-header>
-->
<ion-header>
  <app-header-bar appHeaderBarLogo="{{appHeaderBarLogo}}" [companyName]="companyName"></app-header-bar>
</ion-header>


<ion-content padding text-center>
  <div margin-top>  <ion-icon ios="ios-cash" md="md-cash"></ion-icon> &nbsp; Select an amount to add to the mobile card!</div>
  <ion-row margin>
    <ion-col>
      <button [ngClass]="{'dollar-value-selected': cardDetailsForm.controls.amount.value === x }"  *ngFor="let x of dollarValues; let i = index;" ion-button outline margin-left (click)="selectAmount(x)">{{ x }}</button>
    </ion-col>
  </ion-row>
  <form [formGroup]="cardDetailsForm">
    <div class="margin-top">
      <div><ion-icon item-left ios="ios-card" md="md-card"></ion-icon> &nbsp; Credit Card Information</div>
      <ion-list margin-top no-lines>
        <!-- [textMask]="{mask: masks.cardNumber}" -->
          <ion-item>
            <ion-label floating>Card Number</ion-label>
            <ion-input type="tel" formControlName="cardNumber"></ion-input>
          </ion-item>
         <!-- <control-messages [isSubmitted]="isSubmitted" [controlInstance]="cardDetailsForm.controls.cardNumber"></control-messages> -->

          <ion-row classa="align-center">
            <ion-col col-6>
              <ion-item>
                <ion-label text-wrap>Exp. Month</ion-label>
                <ion-select formControlName="expMonth">
                  <ion-option *ngFor="let x of months; let i = index;" [value]="x.displayNum">{{ x.displayNum }}</ion-option>
                </ion-select>
              </ion-item>
            </ion-col>
            <ion-col col-6>
              <ion-item>
                <ion-label text-wrap>Exp. Year</ion-label>
                <ion-select formControlName="expYear">
                  <ion-option *ngFor="let x of years; let i = index;" [value]="x">{{ x }}</ion-option>
                </ion-select>
              </ion-item>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-6>
              <ion-item>
                <ion-label floating>CVC <!-- <span class="what-is-this">What is this?</span>--></ion-label>
                <ion-input type="tel" formControlName="cardCVC"></ion-input>
              </ion-item>
              <control-messages [isSubmitted]="isSubmitted" [controlInstance]="cardDetailsForm.controls.cardCVC"></control-messages> 
            </ion-col>
          </ion-row>
        </ion-list>
      </div>
    </form>
      <!-- Billing -->
    <div margin-top> <ion-icon ios="ios-home" md="md-home"></ion-icon> &nbsp; Extra Information</div>
    <ion-list>
      <form margin-top [formGroup]="extraInformationForm">
        <ion-item>
          <ion-label floating>Address</ion-label>
          <ion-input type="text" formControlName="address" ></ion-input>
        </ion-item>
        <control-messages [isSubmitted]="isSubmitted" [controlInstance]="extraInformationForm.controls.address"></control-messages>

        <ion-item>
          <ion-label floating>City</ion-label>
          <ion-input type="text" formControlName="city" ></ion-input>
        </ion-item>
        <control-messages [isSubmitted]="isSubmitted" [controlInstance]="extraInformationForm.controls.city"></control-messages>

        <ion-item>
          <ion-label text-wrap>State</ion-label>
          <ion-select formControlName="state">
            <ion-option *ngFor="let x of states; let i = index;" [value]="x">{{ x }}</ion-option>
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-label floating>Zip Code</ion-label>
          <ion-input type="text" formControlName="zipcode" ></ion-input>
        </ion-item>
        <control-messages [isSubmitted]="isSubmitted" [controlInstance]="extraInformationForm.controls.zipcode"></control-messages>
      </form>
    </ion-list>
    <div text-center margin-top>
      <button (click)="submit()"  color="primary" type="button"  ion-button block margin-top>Submit</button>
      <!-- [disabled]="!extraInformationForm.valid || !cardDetailsForm.valid" -->
    </div>
</ion-content>
